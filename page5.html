<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Assignment 5 -- Spirograph</title>
    <nav class="navbar">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li>
                <a href="#">Assignments</a>
                <ul>
                    <li><a href="page2.html">Page 2-Assignment 2</a></li>
                    <li><a href="page3.html">Page 3-Assignment 3</a></li>
                    <li><a href="page4.html">Page 4-Assignment 4</a></li>
                    <li><a href="page5.html">Page 5-Assignment 5</a></li>
                </ul>
            </li>
            <li><a href="https://www.daytonastate.edu/">Daytona State</a></li>
        </ul>
    </nav>
    
    <style>
        body {
            background-color: #fdedec;
            text-align: center;
        }
        canvas {
            border: 1px solid black;
            display: block;
            margin: 25px auto;
        }
        .button-container {
            margin-top: 25px; 
        }
    </style>
</head>
<body>
    <p>This page is written in HTML, CSS, and JavaScript</p>
    <h1>This is my Spirograph</h1>

    <canvas id="spirograph" width="600" height="600"></canvas>

    <div class="button-container">
        <button id="toggleButton">Start</button>
    </div>

    <script>
        const canvas = document.getElementById('spirograph');
        const ctx = canvas.getContext('2d');

        let R = 150; // Radius of the outer circle
        let r = 25;  // Radius of the inner circle
        let O = 45;  // Offset
        let t = 0;   // Angle parameter
        let drawing = false;
        let interval;
        const step = 0.01; // Increment for t (slower drawing)
        const angleOffset = 0.5; // Small adjustment for overlapping effect

        function drawSpirograph() {
            ctx.save();
            ctx.translate(canvas.width / 2, canvas.height / 2); // Move origin to center of canvas

            ctx.beginPath();
            ctx.moveTo(
                (R + r) * Math.cos(t) - (r + O) * Math.cos(((R + r) / r) * t),
                (R + r) * Math.sin(t) - (r + O) * Math.sin(((R + r) / r) * t)
            );

            // Draw multiple cycles until t reaches a limit
            const cycles = 10;
            for (let i = 0; i < cycles; i++) { 
                const x = (R + r) * Math.cos(t) - (r + O) * Math.cos(((R + r) / r) * t);
                const y = (R + r) * Math.sin(t) - (r + O) * Math.sin(((R + r) / r) * t);
                ctx.lineTo(x, y);
                t += step; // Increment t for gradual drawing
            }

            ctx.strokeStyle = 'blue'; 
            ctx.stroke();
            ctx.restore();

            // Adjust for overlapping effect
            t += angleOffset; // Increment angle for overlapping effect
        }

        function toggleDrawing() {
            drawing = !drawing;
            if (drawing) {
                document.getElementById('toggleButton').innerText = 'Stop';
                interval = setInterval(drawSpirograph, 50); // Adjust interval for slower drawing
            } else {
                document.getElementById('toggleButton').innerText = 'Start';
                clearInterval(interval);
            }
        }

        document.getElementById('toggleButton').addEventListener('click', toggleDrawing);
    </script>
</body>
</html>
